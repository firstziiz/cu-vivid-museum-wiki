{"version":3,"sources":["../../../../src/cms/routes/views/gallery.js"],"names":["keystone","require","exports","module","req","res","view","View","locals","section","query","list","model","find","sort","render"],"mappings":";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;;AAEAC,UAAUC,OAAOD,OAAP,GAAiB,UAAUE,GAAV,EAAeC,GAAf,EAAoB;;AAE9C,KAAIC,OAAO,IAAIN,SAASO,IAAb,CAAkBH,GAAlB,EAAuBC,GAAvB,CAAX;AACA,KAAIG,SAASH,IAAIG,MAAjB;;AAEA;AACAA,QAAOC,OAAP,GAAiB,SAAjB;;AAEA;AACAH,MAAKI,KAAL,CAAW,WAAX,EAAwBV,SAASW,IAAT,CAAc,SAAd,EAAyBC,KAAzB,CAA+BC,IAA/B,GAAsCC,IAAtC,CAA2C,WAA3C,CAAxB;;AAEA;AACAR,MAAKS,MAAL,CAAY,SAAZ;AAEA,CAdD","file":"gallery.js","sourcesContent":["var keystone = require('keystone');\n\nexports = module.exports = function (req, res) {\n\n\tvar view = new keystone.View(req, res);\n\tvar locals = res.locals;\n\n\t// Set locals\n\tlocals.section = 'gallery';\n\n\t// Load the galleries by sortOrder\n\tview.query('galleries', keystone.list('Gallery').model.find().sort('sortOrder'));\n\n\t// Render the view\n\tview.render('gallery');\n\n};\n"]}
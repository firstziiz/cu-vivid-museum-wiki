{"version":3,"sources":["../src/keystone.js"],"names":["path","require","config","join","__dirname","keystone","init","name","brand","sass","static","favicon","views","mongo","process","env","MONGO_URI","port","updates","session","auth","import","set","_","get","utils","editable","content","posts","category","users","app"],"mappings":";;;;;AAAA;AACA;;;AAIA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;;AAEAA,QAAQ,QAAR,EAAkBC,MAAlB,CAAyB,EAAEF,MAAMA,KAAKG,IAAL,CAAUC,SAAV,EAAqB,SAArB,CAAR,EAAzB;;AAEA;AACA,IAAMC,WAAWJ,QAAQ,UAAR,CAAjB;;AAEA;AACA;AACA;;AAEAI,SAASC,IAAT,CAAc;AACbC,OAAM,KADO;AAEbC,QAAO,KAFM;AAGbC,OAAM,YAHO;AAIbC,SAAQ,YAJK;AAKbC,UAAS,wBALI;AAMbC,QAAO,qBANM;AAOb,gBAAe,MAPF;AAQbC,uBAAoBC,QAAQC,GAAR,CAAYC,SAAhC,eARa;AASbC,OAAM,IATO;AAUbC,UAAS,aAVI;AAWb,gBAAe,IAXF;AAYbC,UAAS,IAZI;AAabC,OAAM,IAbO;AAcb,eAAc;AAdD,CAAd;;AAiBA;AACAf,SAASgB,MAAT,CAAgB,QAAhB;;AAGA;AACA;AACA;;;AAGAhB,SAASiB,GAAT,CAAa,QAAb,EAAuB;AACtBC,IAAGtB,QAAQ,QAAR,CADmB;AAEtBc,MAAKV,SAASmB,GAAT,CAAa,KAAb,CAFiB;AAGtBC,QAAOpB,SAASoB,KAHM;AAItBC,WAAUrB,SAASsB,OAAT,CAAiBD;AAJL,CAAvB;;AAOA;AACArB,SAASiB,GAAT,CAAa,QAAb,EAAuBrB,QAAQ,cAAR,CAAvB;;AAEA;AACAI,SAASiB,GAAT,CAAa,KAAb,EAAoB;AACnBM,QAAO,CAAC,OAAD,EAAU,iBAAV,CADY;AAEnBC,WAAU,CAAC,UAAD,EAAa,SAAb,EAAwB,SAAxB,CAFS;AAGnBC,QAAO;AAHY,CAApB;;kBAMe,UAACC,GAAD,EAAS;AACvB1B,UAAS0B,GAAT,GAAeA,GAAf;AACA,QAAO1B,QAAP;AACA,C","file":"keystone.js","sourcesContent":["// Simulate config options from your production environment by\n// customising the .env file in your project's root folder.\n\n\n\nconst path = require('path');\n\nrequire('dotenv').config({ path: path.join(__dirname, '../.env') });\n\n// Require keystone\nconst keystone = require('keystone');\n\n// Initialise Keystone with your project's configuration.\n// See http://keystonejs.com/guide/config for available options\n// and documentation.\n\nkeystone.init({\n\tname: 'cms',\n\tbrand: 'cms',\n\tsass: 'cms/public',\n\tstatic: 'cms/public',\n\tfavicon: 'cms/public/favicon.ico',\n\tviews: 'cms/templates/views',\n\t'view engine': 'jade',\n\tmongo: `mongodb://${process.env.MONGO_URI}:27017/cms`,\n\tport: 3000,\n\tupdates: 'cms/updates',\n\t'auto update': true,\n\tsession: true,\n\tauth: true,\n\t'user model': 'User',\n});\n\n// Load your project's Models\nkeystone.import('models');\n\n\n// Setup common locals for your templates. The following are required for the\n// bundled templates and layouts. Any runtime locals (that should be set uniquely\n// for each request) should be added to ./routes/middleware.js\n\n\nkeystone.set('locals', {\n\t_: require('lodash'),\n\tenv: keystone.get('env'),\n\tutils: keystone.utils,\n\teditable: keystone.content.editable,\n});\n\n// Load your project's Routes\nkeystone.set('routes', require('./cms/routes'));\n\n// Configure the navigation bar in Keystone's Admin UI\nkeystone.set('nav', {\n\tposts: ['posts', 'post-categories'],\n\tcategory: ['herbaria', 'gardens', 'museums'],\n\tusers: 'users',\n});\n\nexport default (app) => {\n\tkeystone.app = app;\n\treturn keystone;\n};\n"]}